<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al√©rgenos de la Prote√≠na de la Leche</title>
    <link rel="manifest" href="manifest.json">
        <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-100 p-5 text-center">

    <h1 class="text-3xl font-bold mb-5">ü•õ Al√©rgenos de la Prote√≠na de la Leche de Vaca</h1>

    <h2 class="text-xl font-semibold mb-3">üîç Buscar un aditivo alerg√©nico</h2>
    <input type="text" id="buscador" class="border p-2 w-3/4 rounded" placeholder="Escribe un n√∫mero E o nombre...">
    <button onclick="buscarAditivo()" class="bg-blue-500 text-white px-5 py-2 rounded mt-3">Buscar</button>
    
    <p id="resultado" class="mt-3 text-lg font-semibold"></p>

    <div class="bg-white p-5 rounded shadow-lg mt-5">
        <h2 class="text-xl font-semibold mb-3">üß™ Aditivos alerg√©nicos</h2>
        <ul class="text-left list-disc pl-5">
            <li><b>E-101</b> - Riboflavina (Vitamina B2)</li>
            <li><b>E-270</b> - √Åcido l√°ctico</li>
            <li><b>E-325</b> - Lactato de sodio</li>
            <li><b>E-326</b> - Lactato de potasio</li>
            <li><b>E-327</b> - Lactato de calcio</li>
            <li><b>E-472b</b> - √âsteres l√°cteos de √°cidos grasos</li>
            <li><b>E-478</b> - √âsteres de √°cidos grasos y lactilatos</li>
            <li><b>E-480</b> - Dioctilglicerol</li>
            <li><b>E-481</b> - Estearoil-2-lactilato de sodio</li>
            <li><b>E-482</b> - Estearoil-2-lactilato de calcio</li>
            <li><b>H-4511</b> - Caseinato de sodio</li>
            <li><b>H-4512</b> - Caseinato de calcio</li>
            <li><b>H-4513</b> - Caseinato de potasio</li>
            <li><b>E-966</b> - Lactitol</li>
        </ul>

        <h2 class="text-xl font-semibold mt-5 mb-3">üö´ Alimentos prohibidos</h2>
        <ul class="text-left list-disc pl-5">
            <li>Leche y derivados: yogur, natillas, flanes, quesos, reques√≥n, mantequilla, petit-suisse, cuajada, nata, helados, batidos, crema.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-5 mb-3">‚ö†Ô∏è Alimentos con presencia de leche</h2>
        <ul class="text-left list-disc pl-5">
            <li>Chocolate, galletas, productos de pasteler√≠a, besamel.</li>
            <li>Algunos caramelos (como sugus) y chicles.</li>
            <li>Margarina, crema de cacao, algunos potitos infantiles.</li>
            <li>Cereales y papillas.</li>
            <li>Colorante y esencia de caramelo.</li>
            <li>Turr√≥n, harinas con elevado contenido proteico.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-5 mb-3">‚ö†Ô∏è Alimentos con probable presencia de leche</h2>
        <ul class="text-left list-disc pl-5">
            <li>Fiambres como jam√≥n de york y embutidos crudos curados.</li>
            <li>Carnes procesadas como salchichas.</li>
            <li>Salsas industriales como salsa de tomate.</li>
            <li>Pan de panader√≠a, pan de molde, baguettes y panes especiales.</li>
            <li>Horchata, aceitunas, algunos zumos.</li>
            <li>Cubitos de caldo, alimentos precocinados como pur√©s, mayonesas, sopas, fabadas, cocidos.</li>
            <li>Conservas como at√∫n.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-5 mb-3">üíÑ Otros productos con riesgo</h2>
        <ul class="text-left list-disc pl-5">
            <li>Cremas hidratantes, maquillaje y barra de labios.</li>
            <li>Protectores solares con ingredientes derivados de la leche.</li>
            <li>Gel de ducha, champ√∫, jab√≥n de manos y dent√≠frico (por ejemplo, Recaldent derivado de case√≠na).</li>
            <li>Toallitas infantiles con ingredientes l√°cteos.</li>
        </ul>
    </div>

    <script>
        // Funci√≥n para eliminar tildes y convertir a min√∫sculas
        function normalizarTexto(texto) {
            return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        const aditivosMultilingues = {
    "E-101": ["Riboflavina", "Vitamina B2", "Riboflavin", "Vitamina B2", "Riboflavina", "Vitamine B2", "Riboflavine"],
    "E-270": ["√Åcido l√°ctico", "Lactic Acid", "Acido Lattico", "Acide lactique", "Milchs√§ure", "Melkzuur"],
    "E-325": ["Lactato de sodio", "Sodium Lactate", "Lactato de s√≥dio", "Lattato di sodio", "Lactate de sodium", "Natriumlactat", "Natriumlactaat"],
    "E-326": ["Lactato de potasio", "Potassium Lactate", "Lactato de pot√°ssio", "Lattato di potassio", "Lactate de potassium", "Kaliumlactat", "Kaliumlactaat"],
    "E-327": ["Lactato de calcio", "Calcium Lactate", "Lactato de c√°lcio", "Lattato di calcio", "Lactate de calcium", "Calciumlactat", "Calciumlactaat"],
    "E-472b": ["√âsteres l√°cteos de √°cidos grasos", "Lactic Acid Esters", "√âsteres l√°cteos de √°cidos graxos", "Esteri lattici degli acidi grassi", "Esters d'acide lactique des acides gras", "Milchs√§ureester von Fetts√§uren", "Melkzuur esters van vetzuren"],
    "E-478": ["√âsteres de √°cidos grasos y lactilatos", "Fatty Acid and Lactyl Esters", "√âsteres de √°cidos graxos e lactilatos", "Esteri di acidi grassi e lattilati", "Esters d'acides gras et de lactylates", "Fetts√§ureester und Laktilate", "Vetzuren en lactyl esters"],
    "E-480": ["Dioctilglicerol", "Dioctylglycerol", "Dioctilglicerol", "Dioctilglicerolo", "Dioctylglyc√©rol", "Dioctylglycerol", "Dioctylglycerol"],
    "E-481": ["Estearoil-2-lactilato de sodio", "Sodium Stearoyl-2-Lactylate", "Estearoil-2-lactilato de s√≥dio", "Stearoil-2-lattilato di sodio", "St√©aroyl-2-lactylate de sodium", "Stearoyl-2-lactylat-Natrium", "Stearoyl-2-lactylaat natrium"],
    "E-482": ["Estearoil-2-lactilato de calcio", "Calcium Stearoyl-2-Lactylate", "Estearoil-2-lactilato de c√°lcio", "Stearoil-2-lattilato di calcio", "St√©aroyl-2-lactylate de calcium", "Stearoyl-2-lactylat-Calcium", "Stearoyl-2-lactylaat calcium"],
    "H-4511": ["Caseinato de sodio", "Sodium Caseinate", "Caseinato de s√≥dio", "Caseinato di sodio", "Cas√©inate de sodium", "Natriumkaseinat", "Natriumcase√Ønaat"],
    "H-4512": ["Caseinato de calcio", "Calcium Caseinate", "Caseinato de c√°lcio", "Caseinato di calcio", "Cas√©inate de calcium", "Calciumkaseinat", "Calciumcase√Ønaat"],
    "H-4513": ["Caseinato de potasio", "Potassium Caseinate", "Caseinato de pot√°ssio", "Caseinato di potassio", "Cas√©inate de potassium", "Kaliumkaseinat", "Kaliumcase√Ønaat"],
    "E-966": ["Lactitol", "Lactitol", "Lactitol", "Lattitolo", "Lactitol", "Lactitol", "Lactitol"]
};
        const palabrasLeche = [
            "leche", "l√°cteos", "lacteo", "milk", "dairy", "latte", "latticini", "lait", "lattiero-caseari", "Milch", "Melk", "melkproducten"
        ];
        function buscarAditivo() {
            const entrada = normalizarTexto(document.getElementById("buscador").value.trim());
            const resultado = document.getElementById("resultado");

            let encontrado = false;
            let coincidenciaTexto = "";

                // üîç Buscar por n√∫mero E y nombre de aditivo
    for (const codigo in aditivosMultilingues) {
        const numeroE = codigo.replace("E-", ""); // Convierte "E-270" en "270"
        const nombres = aditivosMultilingues[codigo].map(nombre => normalizarTexto(nombre));

        if (entrada === numeroE || nombres.some(nombre => nombre === entrada)) {
            coincidenciaTexto += `‚ö†Ô∏è Se ha encontrado: ${codigo} - ${aditivosMultilingues[codigo][0]}<br>`;
            encontrado = true;
        }
    }

// üîç Buscar palabras relacionadas con leche con comparaci√≥n m√°s flexible
if (palabrasLeche.some(palabra => normalizarTexto(palabra) === entradaNormalizada)) {
    coincidenciaTexto += `‚ö†Ô∏è Atenci√≥n: El producto lleva leche o puede contener trazas de leche.<br>`;
    encontrado = true;
}
            resultado.innerHTML = encontrado ? coincidenciaTexto : `‚úÖ "${entrada}" no est√° en la lista de al√©rgenos.`;
            resultado.className = encontrado ? "text-red-500 font-semibold" : "text-green-500 font-semibold";
        }

        document.getElementById("buscador").addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                buscarAditivo();
            }
        });
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("service-worker.js")
                .then(() => console.log("‚úÖ Service Worker registrado correctamente"))
                .catch(error => console.log("‚ùå Error registrando Service Worker:", error));
        }
    </script>
</body>
</html>
